(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{127:function(e,a,t){},145:function(e,a,t){e.exports=t.p+"static/media/banner-001.0f7e17ec.jpg"},146:function(e,a,t){e.exports=t.p+"static/media/banner-002.98a4e483.jpg"},147:function(e,a,t){e.exports=t.p+"static/media/banner-003.acb37150.jpg"},148:function(e,a,t){e.exports=t.p+"static/media/banner-004.d8c44150.jpg"},149:function(e,a,t){e.exports=t.p+"static/media/banner-005.c87197be.jpg"},159:function(e,a,t){e.exports=t(289)},164:function(e,a,t){},167:function(e,a,t){},273:function(e,a,t){},284:function(e,a,t){},285:function(e,a,t){},289:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(7),r=t.n(l),s=(t(164),t(305)),m=t(156),i=t.n(m),o=t(19),u=t.n(o),E=(t(165),t(166),t(167),t(45)),d=t(20),p=t(11),v=t(296),f=t(302),b=t(293),g=t(300),h=t(95),N=t.n(h);function j(e){var a=e.column,t=new Array(a||6).fill(1);return c.a.createElement(c.a.Fragment,null,t.map(function(e,a){return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement(v.a,{key:a,loading:!0,className:"movie-card",cover:c.a.createElement("div",{className:"loading-img-box"},c.a.createElement("img",{src:N.a,alt:"loading"}))}))}))}function y(){var e=new Array(9).fill(1);return c.a.createElement("div",{className:"cards-box cards-box--top250 clearfix"},e.map(function(e,a){return c.a.createElement("div",{className:["card-container",0===a?"card-big":""].join(" "),key:a},c.a.createElement(v.a,{key:a,loading:!0,className:"movie-card",cover:c.a.createElement("div",{className:"loading-img-box"},c.a.createElement("img",{src:N.a,alt:"loading"}))}))}))}function k(e){var a=e.row,t=new Array(a||4).fill(1);return c.a.createElement(c.a.Fragment,null,t.map(function(e,a){return c.a.createElement("li",{className:"goodbox-rate",key:a},c.a.createElement(g.a,{className:"title",paragraph:!1}),c.a.createElement(g.a,{className:"summary",title:!1,paragraph:{rows:1}}),c.a.createElement("span",{className:"rank"},"0"),c.a.createElement("span",{className:"box"},"0 \u4e07"))}))}var x=t(13),w=t(304),O=t(75),S=t.n(O),_="/api/movie",C="0b2bdeda43b5688921839c8ecb20399b";function I(){var e=S.a.CancelToken.source();return window.cancalXHRList.push(e),S.a.create({baseURL:_,timeout:3e4,params:{apikey:C},cancelToken:e.token})}function A(e){return I().get("/in_theaters",{params:e})}function T(e,a){return I().get("/search?q=".concat(e),{params:a})}window.cancalXHRList=[];var R=t(141);t(127);var H=Object(E.f)(function(e){var a=Object(n.useState)(""),t=Object(p.a)(a,2),l=t[0],r=t[1],s=Object(n.useState)([]),m=Object(p.a)(s,2),i=m[0],o=m[1],u=Object(n.useState)([]),E=Object(p.a)(u,2),v=E[0],f=E[1],b=Object(n.useState)(D().slice(0)),g=Object(p.a)(b,1)[0],h=Object(n.useState)(""),N=Object(p.a)(h,2),j=N[0],y=N[1],k=Object(n.useState)(!1),O=Object(p.a)(k,2),S=O[0],_=O[1],C=Object(n.useState)(!0),I=Object(p.a)(C,2),H=I[0],L=I[1],M=Object(n.useState)(!1),Y=Object(p.a)(M,2),F=Y[0],P=Y[1];function $(){""===(j=j.trim())&&(j=l);var a=function(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[];if("object"==typeof e){var n=function(n){if(null!=e[n]){var c=e[n];a&&c instanceof Array?t.push(c.map(function(e){return encodeURIComponent(n)+"="+encodeURIComponent(e)}).join("&")):t.push(encodeURIComponent(n)+"="+encodeURIComponent(c))}};for(var c in e)n(c);return t.join("&")}return""}({q:j});e.history.push({pathname:"/search",search:a})}function D(){return JSON.parse(localStorage.getItem("SEARCH_H")||"[]")}function U(e){var a=D().slice(0);a.some(function(a){return a.id===e.id})||(a.unshift(e),a.length>5&&a.pop(),localStorage.setItem("SEARCH_H",JSON.stringify(a)))}function z(e){var a=e.target.value,t=a.trim(),n=t.length>0;y(a),L(!n),n&&B(t)}function J(){_(!1)}function q(){return c.a.createElement("div",{className:["header-bar",F?"head-bar--fixed":""].join(" ")},c.a.createElement("div",{className:"bar-container clearfix"},c.a.createElement("span",{className:"bar-top"},c.a.createElement(d.b,{to:"/home"},c.a.createElement("div",{className:"logo"}),c.a.createElement("div",{className:"slot-title"},e.slotTitle))),c.a.createElement("div",{className:"search"},c.a.createElement("div",{className:"search-box"},c.a.createElement("div",{className:"search-btn",onClick:$},c.a.createElement(x.a,{type:"search"}),c.a.createElement("span",null,"\u5168\u7f51\u641c")),c.a.createElement("input",{className:"search-input",placeholder:l,value:j,onChange:z,onClick:function(e){e.nativeEvent.stopImmediatePropagation(),_(!0)},onKeyDown:function(e){_(!0),13===e.keyCode&&(_(!1),$())}})),c.a.createElement("div",{className:"search-list",style:{display:S?"block":"none"},onClick:function(e){e.nativeEvent.stopImmediatePropagation()}},H?c.a.createElement("div",null,c.a.createElement("div",{className:"list-history",style:{display:g.length>0?"block":"none"}},c.a.createElement("h4",{className:"panel-title"},"\u5386\u53f2\u8bb0\u5f55"),c.a.createElement("ul",null,g.map(function(e,a){return c.a.createElement("li",{className:"list-item",key:a},c.a.createElement(d.b,{to:"/detail/".concat(e.id)},c.a.createElement("h5",{className:"title"},e.title)))}))),c.a.createElement("div",{className:"list-hot"},c.a.createElement("h4",{className:"panel-title"},"\u70ed\u6620"),c.a.createElement("ul",null,i.slice(0,8).map(function(e,a){return c.a.createElement("li",{className:"list-item",key:a},c.a.createElement(d.b,{to:"/detail/".concat(e.id),onClick:function(a){U({id:e.id,title:e.title})}},c.a.createElement("span",{className:"index"},+a+1),c.a.createElement("span",{className:"title"},e.title)))})))):c.a.createElement("div",{className:"list-suggest"},c.a.createElement("ul",null,v.map(function(e,a){return c.a.createElement("li",{className:"list-item",key:a},c.a.createElement(d.b,{to:"/detail/".concat(e.id),onClick:function(a){U({id:e.id,title:e.title})}},c.a.createElement("h5",{className:"title"},e.title),c.a.createElement("p",{className:"origin_title"},e.original_title)))})))))))}var B=R.debounce(function(e){T(e,{count:5}).then(function(e){var a=e.data.subjects;f(a)})},500);return Object(n.useEffect)(function(){return A({start:0,count:12}).then(function(e){var a=e.data.subjects,t=a.length>0?a[0].title:"";r(t),o(a)}),document.addEventListener("click",J),function(){document.removeEventListener("click",J)}},[]),e.noAffix?q():c.a.createElement(w.a,{onChange:function(e){P(!!e)}},q())}),L=t(292),M=function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer-block content-origin"},c.a.createElement("span",null,"\u514d\u8d23\u58f0\u660e\uff1a\u5185\u5bb9\u6765\u6e90\u4e8e ",c.a.createElement("a",{href:"https://movie.douban.com/",target:"_blank"},"\u8c46\u74e3\u7535\u5f71")," \uff0c\u63a5\u53e3\u6765\u6e90\u4e8e\u7f51\u7edc\uff0c\u4fb5\u5220\uff0c\u7981\u6b62\u5546\u4e1a\u7528\u9014\u4f7f\u7528")),c.a.createElement("div",{className:"footer-block copyright"},c.a.createElement("span",null,"Copyright \xa92019 ",c.a.createElement("a",{href:"https://github.com/Yangfan2016",target:"_blank"},"yangfan2016")," <15234408101@163.com>"),c.a.createElement(L.a,{type:"vertical"}),c.a.createElement("span",null,c.a.createElement("a",{href:"https://github.com/Yangfan2016/douban-movie-web/blob/master/LICENSE",target:"_blank"},"MIT"))),c.a.createElement("div",{className:"footer-block menu"},c.a.createElement("span",null,c.a.createElement("a",{href:"https://github.com/Yangfan2016",target:"_blank"},"\u5173\u4e8e\u6211")),c.a.createElement(L.a,{type:"vertical"}),c.a.createElement("span",null,c.a.createElement("a",{href:"https://github.com/Yangfan2016",target:"_blank"},"About me")),c.a.createElement(L.a,{type:"vertical"}),c.a.createElement("span",null,c.a.createElement("a",{href:"https://github.com/Yangfan2016",target:"_blank"},"Github")),c.a.createElement(L.a,{type:"vertical"}),c.a.createElement("span",null,c.a.createElement("a",{href:"https://juejin.im/user/5bd570f86fb9a05d396f5d50",target:"_blank"},"\u6398\u91d1")),c.a.createElement(L.a,{type:"vertical"}),c.a.createElement("span",null,c.a.createElement("a",{href:"https://yangfan2016.github.io",target:"_blank"},"\u535a\u5ba2"))))},Y=t(63),F=t.n(Y),P=t(145),$=t.n(P),D=t(146),U=t.n(D),z=t(147),J=t.n(z),q=t(148),B=t.n(q),X=t(149),V=t.n(X),W=t(298),G=t(297),K=t(294),Q=t(299),Z=t(295),ee=t(62),ae=t(301),te=t(303),ne=function(){return c.a.createElement("div",{className:"page page-detail"},c.a.createElement("div",{className:"poster-box"},c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"profile-rate"},c.a.createElement("div",{className:"rate"},c.a.createElement("span",{className:"units"},"0")),c.a.createElement(W.a,{title:"\u8bc4\u4ef7\u4eba\u6570",value:"0",className:"box"})),c.a.createElement("div",{className:"block profile-img-loading"}),c.a.createElement("div",{className:"block profile-info"},c.a.createElement(g.a,null)),c.a.createElement("div",{className:"block profile-reviews"},c.a.createElement(g.a,{avatar:!0,paragraph:{rows:4}})))))},ce=(t(273),t(157));t(284),t(285);var le=[{path:"/home",component:function(){var e=Object(n.useState)([]),a=Object(p.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)([]),s=Object(p.a)(r,2),m=s[0],i=s[1],o=Object(n.useState)([]),u=Object(p.a)(o,2),E=u[0],g=u[1],h=Object(n.useState)([]),N=Object(p.a)(h,2),x=N[0],w=N[1],O=Object(n.useState)([]),S=Object(p.a)(O,2),_=S[0],C=S[1],T=Object(n.useState)(""),R=Object(p.a)(T,2),L=R[0],Y=R[1],P=Object(n.useState)(!0),D=Object(p.a)(P,2),z=D[0],q=D[1],X=Object(n.useState)(!0),W=Object(p.a)(X,2),G=W[0],K=W[1],Q=Object(n.useState)(!0),Z=Object(p.a)(Q,2),ee=Z[0],ae=Z[1],te=Object(n.useState)(!0),ne=Object(p.a)(te,2),ce=ne[0],le=ne[1],re=Object(n.useState)(!0),se=Object(p.a)(re,2),me=se[0],ie=se[1],oe=[$.a,U.a,J.a,B.a,V.a];return Object(n.useEffect)(function(){var e;A({start:0,count:12}).then(function(e){var a=e.data.subjects;l(a),q(!1)}),I().get("/new_movies").then(function(e){var a=e.data.subjects;i(a),K(!1)}),I().get("/us_box").then(function(e){var a=e.data,t=a.subjects,n=a.date;Y(n),g(t),ae(!1)}),I().get("/weekly").then(function(e){var a=e.data.subjects;w(a),le(!1)}),(e={count:36},I().get("/top250",{params:e})).then(function(e){var a=e.data.subjects;C(a),ie(!1)})},[]),c.a.createElement("div",null,c.a.createElement("div",{className:"header"},c.a.createElement(H,null),c.a.createElement("div",{className:"header-banner"},c.a.createElement(b.a,{autoplay:!0},oe.map(function(e,a){return c.a.createElement("div",{className:"banner-item",key:a},c.a.createElement("img",{src:e,alt:"banner"}))})))),c.a.createElement("div",{className:"page page-home"},c.a.createElement("div",{className:"block block-hotshow"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u6b63\u5728\u70ed\u6620")),c.a.createElement("div",{className:"cards-box clearfix"},z?c.a.createElement(j,{column:6}):t.map(function(e,a){return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement(v.a,{className:"movie-card",hoverable:!0,cover:c.a.createElement(d.b,{to:"/detail/".concat(e.id)},c.a.createElement(F.a,{height:300,offsetTop:500},c.a.createElement("img",{src:e.images.small})))},c.a.createElement(f.a,{className:"img-tag tag-orange"},e.rating.average),c.a.createElement(v.a.Meta,{title:e.title,description:e.genres.join("/")})))}))),c.a.createElement("div",{className:"block block-newmovie"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u65b0\u7247\u699c")),c.a.createElement("div",{className:"cards-box clearfix"},G?c.a.createElement(j,{column:4}):m.map(function(e,a){return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement(v.a,{className:"movie-card",hoverable:!0,cover:c.a.createElement(d.b,{to:"/detail/".concat(e.id)},c.a.createElement(F.a,{height:300,offsetTop:500},c.a.createElement("img",{src:e.images.small})))},c.a.createElement(f.a,{className:"img-tag tag-orange"},e.rating.average),c.a.createElement(v.a.Meta,{title:e.title,description:e.genres.join("/")})))})),c.a.createElement("div",{className:"rate-box"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u5317\u7f8e\u7968\u623f\u699c"),c.a.createElement("p",null,L," \u66f4\u65b0/\u7f8e\u5143")),c.a.createElement("ul",{className:"goodbox"},ee?c.a.createElement(k,{row:2}):E.map(function(e,a){var t,n=e.rank,l=e.box,r=e.subject,s=r.title,m=r.id,i=r.rating,o=r.collect_count,u=i.average,E=[];return e.new&&E.push("<span class='box-new'>\u65b0\u4e0a\u699c</span>"),E.push("".concat(u||0," \u5206")),E.push("".concat(o," \u6536\u85cf")),t=E.join(" / "),c.a.createElement("li",{className:"goodbox-rate",key:a},c.a.createElement(d.b,{to:"/detail/".concat(m)},c.a.createElement("h3",{className:"title"},s),c.a.createElement("p",{className:"summary",dangerouslySetInnerHTML:{__html:t}}),c.a.createElement("span",{className:"rank"},n),c.a.createElement("span",{className:"box"},l/1e4," \u4e07")))})))),c.a.createElement("div",{className:"block block-weekly"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u4e00\u5468\u53e3\u7891\u699c"),c.a.createElement("div",{className:"spotbox"},c.a.createElement("div",{className:"spot"}),c.a.createElement("div",{className:"spot"}),c.a.createElement("div",{className:"spot"}))),c.a.createElement("div",{className:"cards-box weekly-box clearfix"},x.slice(0,6).map(function(e,a){var t=e.subject,n=t.rating,l=t.title,r=n.average;return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement("div",{className:"rate"},r," \u5206"),c.a.createElement("div",{className:"title"},l),c.a.createElement("div",{className:"dot"}))})),c.a.createElement("div",{className:"cards-box clearfix"},ce?c.a.createElement(j,{column:6}):x.slice(0,6).map(function(e,a){var t=e.subject,n=t.rating,l=t.title,r=t.id,s=t.images,m=t.genres,i=n.average;return c.a.createElement("div",{className:"card-container",key:a},c.a.createElement(v.a,{className:"movie-card",hoverable:!0,cover:c.a.createElement(d.b,{to:"/detail/".concat(r,"/#")},c.a.createElement(F.a,{height:300,offsetTop:500},c.a.createElement("img",{src:s.small})))},c.a.createElement(f.a,{className:"img-tag tag-orange"},i),c.a.createElement(v.a.Meta,{title:l,description:m.join("/")})))}))),c.a.createElement("div",{className:"block block-top250"},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"Top 250")),me?c.a.createElement(y,null):function(){var e=_.length,a=new Array(e/9|0).fill(0);return(a=a.map(function(e,a){var t=9*a,n=t+9;return _.slice(t,n)})).map(function(e,a){return c.a.createElement("div",{className:"cards-box cards-box--top250 clearfix",key:a},e.map(function(e,t){var n=0===t;return c.a.createElement("div",{className:["card-container",n?"card-big":""].join(" "),key:a+t},c.a.createElement(v.a,{className:"movie-card",hoverable:!0,cover:c.a.createElement(d.b,{to:"/detail/".concat(e.id)},c.a.createElement(F.a,{height:n?600:300,offsetTop:500},c.a.createElement("img",{className:"card-img",src:e.images.small})))},c.a.createElement(f.a,{className:"img-tag tag-orange"},e.rating.average),c.a.createElement(v.a.Meta,{title:e.title,description:e.genres.join("/")})))}))})}())),c.a.createElement(M,null))}},{path:"/detail/:id",component:function(e){var a=e.match.params,t=Object(n.useState)({index:0,isAutoPlay:!0}),l=Object(p.a)(t,2),r=l[0],s=l[1],m=Object(n.useState)({}),i=Object(p.a)(m,2),o=i[0],E=i[1],d=Object(n.useState)(!0),v=Object(p.a)(d,2),b=v[0],g=v[1],h=Object(n.useState)(!1),N=Object(p.a)(h,2),j=N[0],y=N[1],k=null;function w(e,a){s({src:e,index:a,isAutoPlay:!0})}return Object(n.useEffect)(function(){var e;(e=a.id,I().get("/subject/".concat(e))).then(function(e){var a=e.data,t=(""+a.rating.average).split("."),n=Object(p.a)(t,2),c=n[0],l=n[1];a.$units=c||0,a.$decimal=l||0,E(a),g(!1)})},[]),Object(n.useEffect)(function(){if(!0!==b)var e=setTimeout(function(){clearTimeout(e),function(){if(k){var e=k;if(e){var a=0;Array.from(e.children).map(function(e){var t=+(getComputedStyle(e).width||"0").replace("px","");t=Math.ceil(t),a+=t}),e.style.width="".concat(a,"px")}}}()},3e3)},[b]),b?c.a.createElement(ne,null):o.id?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"page page-detail"},c.a.createElement("div",{className:"poster-box"},c.a.createElement("div",{className:"profile"},c.a.createElement("div",{className:"profile-rate"},c.a.createElement("div",{className:"rate"},c.a.createElement("span",{className:"units"},o.$units),o.$units>0&&c.a.createElement("span",{className:"decimal"},".",o.$decimal)),c.a.createElement(W.a,{title:"\u8bc4\u4ef7\u4eba\u6570",value:o.ratings_count,className:"box"}),c.a.createElement("h2",{className:"title"},o.original_title)),c.a.createElement("div",{className:"block profile-img"},c.a.createElement("img",{src:o.images.small,alt:""})),c.a.createElement("div",{className:"block profile-info"},c.a.createElement("h2",{className:"raw-title"},o.title),c.a.createElement("div",{className:"tags"},o.tags.map(function(e,a){return c.a.createElement(f.a,{className:"tag-text",key:a},e)})),c.a.createElement("div",{className:"directors"},c.a.createElement("label",null,"\u5bfc\u6f14\uff1a"),o.directors.map(function(e,a){return c.a.createElement("a",{key:a,className:"person"},e.name)})),c.a.createElement("div",{className:"actors"},c.a.createElement("label",null,"\u6f14\u5458\uff1a"),o.casts.map(function(e,a){var t="";return 0!==a&&(t="/"),c.a.createElement("span",{key:a},t,c.a.createElement("a",{className:"person"},e.name))})),c.a.createElement("div",{className:"video_summary"},c.a.createElement(G.a.Paragraph,{className:"summary",ellipsis:{rows:3,expandable:!0}},o.summary))),c.a.createElement("div",{className:"block profile-photos"},c.a.createElement("h2",{className:"raw-title"},"\u5267\u7167\uff08",o.photos_count,"\uff09"),c.a.createElement("div",{className:"photos-box"},c.a.createElement("div",{className:"box-gallery","data-id":o.id,key:o.id,ref:function(e){return k=e}},o.photos.map(function(e,a){var t=e.image,n=e.alt;return c.a.createElement("div",{className:"gallery-img",key:a},0===a&&o.trailer_urls.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(f.a,{color:"#f50",className:"img-tag"},"\u9884\u544a\u7247"),c.a.createElement(x.a,{type:"play-circle",theme:"filled",className:"img-icon",onClick:function(e){w(o.trailer_urls[r.index],0),y(!0)}})),c.a.createElement("img",{src:t,alt:n}))})))),c.a.createElement("div",{className:["drawer-in",j?"drawer-fixed-bottom":""].join(" ")},c.a.createElement("div",{className:"block profile-reviews"},c.a.createElement("h2",{className:"raw-title"},"\u5f71\u8bc4\uff08",o.reviews_count,"\uff09"),o.popular_reviews.map(function(e,a){var t=e.author,n=e.rating,l=e.title,r=e.summary,s=e.created_at;return c.a.createElement(K.a,{className:"cutsom-ant-comment",key:a,author:c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,t.name),c.a.createElement(Q.a,{className:"custom-ant-rate",disabled:!0,defaultValue:n.value,count:n.max})),avatar:c.a.createElement(Z.a,{src:t.avatar,alt:t.alt}),content:c.a.createElement(c.a.Fragment,null,c.a.createElement("a",null,l),c.a.createElement("p",null,r)),datetime:c.a.createElement(ee.a,{title:u()(s).format("YYYY-MM-DD HH:mm:ss")},c.a.createElement("span",null,u()(s).fromNow()))})})),c.a.createElement("div",{className:"block profile-comments"},c.a.createElement("h2",{className:"raw-title"},"\u70ed\u8bc4\uff08",o.comments_count,"\uff09"),o.popular_comments.map(function(e,a){var t=e.author,n=e.rating,l=e.content,r=e.created_at,s=e.useful_count,m=e.useless_count,i=[c.a.createElement("span",null,c.a.createElement(ee.a,{title:"Like"},c.a.createElement(x.a,{type:"like",theme:"filled"})),c.a.createElement("span",{style:{paddingLeft:8,cursor:"auto"}},s||0)),c.a.createElement("span",null,c.a.createElement(ee.a,{title:"Dislike"},c.a.createElement(x.a,{type:"dislike",theme:"outlined"})),c.a.createElement("span",{style:{paddingLeft:8,cursor:"auto"}},m||0))];return c.a.createElement(K.a,{className:"cutsom-ant-comment",key:a,actions:i,author:c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,t.name),c.a.createElement(Q.a,{className:"custom-ant-rate",disabled:!0,defaultValue:n.value,count:n.max})),avatar:c.a.createElement(Z.a,{src:t.avatar,alt:t.alt}),content:c.a.createElement("p",null,l),datetime:c.a.createElement(ee.a,{title:u()(r).format("YYYY-MM-DD HH:mm:ss")},c.a.createElement("span",null,u()(r).fromNow()))})})))))),c.a.createElement(ae.a,{placement:"top",height:"460px",destroyOnClose:!0,onClose:function(){y(!1)},visible:j},c.a.createElement("div",{className:"container-video clearfix"},c.a.createElement("div",{className:"video-box"},c.a.createElement("video",{src:r.src,autoPlay:r.isAutoPlay,controls:!0}),c.a.createElement("div",{className:"box-list"},c.a.createElement(te.a,{className:"list",itemLayout:"vertical",size:"small",dataSource:o.trailers,renderItem:function(e,a){return c.a.createElement(te.a.Item,{className:["list-item",a===r.index?"active":""].join(" "),key:e.id,extra:c.a.createElement("img",{alt:"logo",src:e.medium}),onClick:function(t){w(e.resource_url,a)}},c.a.createElement(te.a.Item.Meta,{title:e.title}))}})))))):""}},{path:"/box",component:function(e){return c.a.createElement("div",null,"Box page")}},{path:"/search",component:function(e){var a=e.location.search,t=function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return decodeURIComponent(e).split("&").reduce(function(e,t){var n=t.indexOf("="),c=t.slice(0,n),l=t.slice(n+1);return a&&e[c]?e[c]instanceof Array?e[c].push(l):e[c]=[e[c],l]:e[c]=l,e},{})}(a=a.slice(1)).q,l=5,r=Object(n.useState)({}),s=Object(p.a)(r,2),m=s[0],i=s[1],o=Object(n.useState)([]),u=Object(p.a)(o,2),E=u[0],v=u[1],f=Object(n.useState)(!0),b=Object(p.a)(f,2),g=b[0],h=b[1],N=Object(n.useRef)(),j=Object(n.useRef)();function y(e){T(t,{count:l,start:(e-1)*l}).then(function(e){var a=e.data;i(a)})}return Object(n.useEffect)(function(){y(1),A({start:0,count:12}).then(function(e){var a=e.data.subjects;v(a),h(!1);var t=window.getComputedStyle(N.current).height,n=window.getComputedStyle(j.current).height;n&&t&&(t=t.replace("px",""),+(n=n.replace("px",""))>+t&&(N.current.style.cssText=";min-height:".concat(n,"px;")))})},[]),c.a.createElement("div",null,c.a.createElement("div",{className:"header clearfix"},c.a.createElement(H,null)),c.a.createElement("div",{className:"page page-search",ref:N},c.a.createElement("div",{className:"search-result-list"},c.a.createElement(te.a,{itemLayout:"vertical",size:"small",dataSource:m.subjects,renderItem:function(e,a){var t=e.images,n=e.title,l=e.id;return c.a.createElement(te.a.Item,{className:"list-item",key:l},c.a.createElement(te.a.Item.Meta,{avatar:c.a.createElement(d.b,{to:"/detail/".concat(l)},c.a.createElement("img",{alt:"logo",className:"item-img",src:t.medium})),title:n,description:c.a.createElement("div",{className:"desc"},e.directors.length>0&&c.a.createElement("div",{className:"directors"},c.a.createElement("label",null,"\u5bfc\u6f14\uff1a"),e.directors.map(function(e,a){return c.a.createElement("a",{key:a,className:"person"},e.name)})),e.casts.length>0&&c.a.createElement("div",{className:"actors"},c.a.createElement("label",null,"\u6f14\u5458\uff1a"),e.casts.map(function(e,a){var t="";return 0!==a&&(t="/"),c.a.createElement("span",{key:a},t,c.a.createElement("a",{className:"person"},e.name))})),e.genres.length>0&&c.a.createElement("div",{className:"tags"},c.a.createElement("label",null,"\u6807\u7b7e\uff1a"),e.genres.map(function(e,a){var t="";return 0!==a&&(t="/"),c.a.createElement("span",{key:a},t,c.a.createElement("a",{className:"person"},e))})))}))}}),c.a.createElement(ce.a,{onChange:y,total:m.total})),c.a.createElement(w.a,{offsetTop:100,className:"rate-box"},c.a.createElement("div",{ref:j},c.a.createElement("div",{className:"line-raw"},c.a.createElement("h2",{className:"raw-title"},"\u70ed\u6620\u699c")),c.a.createElement("ul",{className:"goodbox"},g?c.a.createElement(k,{row:2}):E.map(function(e,a){var t=e.id,n=e.title,l=e.rating.average;return c.a.createElement("li",{className:"goodbox-rate",key:a},c.a.createElement(d.b,{to:"/detail/".concat(t)},c.a.createElement("h3",{className:"title"},n),c.a.createElement("span",{className:"rank"},a+1),c.a.createElement("span",{className:"box"},l," \u5206")))}))))),c.a.createElement(M,null))}},{path:"/404",component:function(){var e=Object(n.useState)(""),a=Object(p.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)(function(){S.a.get("/bing/HPImageArchive.aspx",{params:{format:"js",idx:0,n:1,mkt:"zh-CN"}}).then(function(e){var a=e.data.images;l("http://cn.bing.com"+a[0].url)})},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"page page-404",style:{backgroundImage:"url(".concat(t,")")}}),c.a.createElement("div",{className:"header header-404 clearfix"},c.a.createElement(H,{noAffix:!0,slotTitle:c.a.createElement("h1",{className:"page-404-title"},"404")})))}}];function re(e){var a=e.location.pathname;if(e.beforeEnter&&e.beforeEnter(a),"/"===a)return c.a.createElement(E.a,{to:"/home"});var t=le.find(function(e){var t=e.path;return t=t.replace(/(\:.+)/g,"[^/]+").replace(/\//g,"\\/"),new RegExp("".concat(t,"(\\/|\\/)?$"),"gi").test(a)});return t?c.a.createElement(E.b,{exact:!t.hasChild,path:t.path,component:t.component}):c.a.createElement(E.a,{to:"/404"})}var se=function(e){return c.a.createElement(d.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(E.d,null,c.a.createElement(re,e))))};function me(e){window.scrollTo({top:0,behavior:"smooth"}),window.cancalXHRList.forEach(function(e){e.cancel("cancel xhr")})}u.a.locale("zh-cn");var ie=function(){return c.a.createElement(s.a,{locale:i.a},c.a.createElement("div",{className:"App"},c.a.createElement(se,{beforeEnter:me})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,a,t){e.exports=t.p+"static/media/loading.130d74ed.svg"}},[[159,1,2]]]);
//# sourceMappingURL=main.cd917dde.chunk.js.map